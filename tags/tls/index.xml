<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>TLS on itkq.jp</title><link>https://itkq.jp/tags/tls/</link><description>Recent content in TLS on itkq.jp</description><generator>Hugo -- gohugo.io</generator><language>ja-JP</language><lastBuildDate>Thu, 12 Nov 2020 23:23:15 +0900</lastBuildDate><atom:link href="https://itkq.jp/tags/tls/index.xml" rel="self" type="application/rss+xml"/><item><title>Cross-certificates の整理</title><link>https://itkq.jp/blog/2020/11/12/cross-certificates-%E3%81%AE%E6%95%B4%E7%90%86/</link><pubDate>Thu, 12 Nov 2020 23:23:15 +0900</pubDate><guid>https://itkq.jp/blog/2020/11/12/cross-certificates-%E3%81%AE%E6%95%B4%E7%90%86/</guid><description>&lt;p>cross-certificates は &lt;a href="https://itkq.jp/blog/2020/06/20/x509-chain/#%E3%82%AF%E3%83%AD%E3%82%B9%E8%A8%BC%E6%98%8E%E6%9B%B8" target="_blank">https://itkq.jp/blog/2020/06/20/x509-chain/#クロス証明書&lt;/a> で触れたが、最近混乱したので整理する。RFC 5280 によれば cross-certificates の定義は次の通りで非常にシンプルである。&lt;/p>
&lt;blockquote>
&lt;p>Cross-certificates are CA certificates in which the issuer and subject are different entities. Cross-certificates describe a trust relationship between
the two CAs.&lt;/p>
&lt;/blockquote>
&lt;p>先の記事での署名関係は以下であった。この例では、USERTrust CA が「クロスルート証明書」で、USERTrust CA をトラストアストアに持っていない古いクライアントのために AddTrust CA root が USERTrust を署名し、トラストチェーンを構築できるようにするものだった。互換性を考慮してこうなっている。&lt;/p></description></item><item><title>一見不可解な TLS 証明書失効</title><link>https://itkq.jp/blog/2020/06/20/x509-chain/</link><pubDate>Sat, 20 Jun 2020 16:30:52 +0900</pubDate><guid>https://itkq.jp/blog/2020/06/20/x509-chain/</guid><description>&lt;p>この記事は、所属する会社の社内ブログに投稿した内容を一部改変したものです。&lt;/p>
&lt;h1 id="遭遇した事象">遭遇した事象&lt;/h1>
&lt;p>Prometheus と &lt;a href="https://github.com/prometheus/blackbox_exporter">https://github.com/prometheus/blackbox_exporter&lt;/a> を使って TLS サーバー証明書の有効性と有効期限を網羅的に監視しています。最近 blackbox_exporter が blog.cookpad.dk:443 の証明書の期限が切れている、と報告してきました。しかし同時に blackbox_exporter は TLS 接続には成功している、と報告していたのです。確認のため、Chrome で &lt;a href="https://blog.cookpad.dk/">https://blog.cookpad.dk/&lt;/a> にアクセスしてみると、問題ありませんでした。Firefox でも同様でした。次に手元の MacBook Pro から cURL してみます。&lt;/p></description></item></channel></rss>